{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\..\\..\\..\\shared-bills-svelte-cmp\\App.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport { onMount } from 'svelte';\n\t// props\n\texport let getBills;\n\n\tlet bills = [];\n\tlet selectedYearMonth;\n\n\tlet debtor;\n\tlet debtCollector;\n\tlet debt = 0;\n\n\t// Functions\n\n\tlet askForData = event => {\n\t\tgetBills({yearMonth: selectedYearMonth})\n\t\t.then(result => {\n\t\t\tbills = result;\n\t\t\tconsole.log(JSON.stringify(bills));\n\t\t\tdebtCalculation();\n\t\t})\n\t\t.catch(error => console.error(error))\n\t}\n\n\tonMount(async () => {\n\n\t\tlet now = new Date(), month, day, year;\n\t\tmonth = '' + (now.getMonth() + 1),\n\t\tday = '' + now.getDate(),\n\t\tyear = now.getFullYear();\n\n\t\tif (month.length < 2) {\n\t\t\tmonth = '0' + month;\n\t\t}\n\t\t\t\n\t\tselectedYearMonth = [year, month].join('-');\n\t\tif (typeof(getBills) === 'function') {\n\t\t\tconst tempBills = await getBills({yearMonth: selectedYearMonth});\n\t\t\tbills = await tempBills;\n\t\t\tdebtCalculation();\n\t\t}\n\t});\n\n\tlet debtCalculation = () => {\n\t\tif (bills.length > 1) {\n\t\t\tlet maxDebt = bills.reduce((p, c) => p.expr0 > c.expr0 ? p : c);\n\t\t\tlet minDebt = bills.reduce((p, c) => p.expr0 < c.expr0 ? p : c);\n\t\t\tdebtor = minDebt.Paidby;\n\t\t\tdebtCollector = maxDebt.Paidby;\n\t\t\tdebt = maxDebt.expr0 - minDebt.expr0;\n\t\t} else {\n\t\t\tdebtor = bills[0].BilledTo;\n\t\t\tdebtCollector = bills[0].Paidby;\n\t\t\tdebt = bills[0].expr0;\n\t\t}\n\t}\n\n\tlet formatMoney = (amount, decimalCount = 2, decimal = \".\", thousands = \",\") => {\n\t\ttry {\n\t\t\tconst currencySign = '$';\n\t\t\tdecimalCount = Math.abs(decimalCount);\n\t\t\tdecimalCount = isNaN(decimalCount) ? 2 : decimalCount;\n\n\t\t\tconst negativeSign = amount < 0 ? \"-\" : \"\";\n\n\t\t\tlet i = parseInt(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)).toString();\n\t\t\tlet j = (i.length > 3) ? i.length % 3 : 0;\n\n\t\t\treturn currencySign + negativeSign + (j ? i.substr(0, j) + thousands : '') + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) + (decimalCount ? decimal + Math.abs(amount - i).toFixed(decimalCount).slice(2) : \"\");\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t};\n</script>\n\n<main>\n\t<h1>Status for month: {selectedYearMonth}</h1>\n\t<input type=\"month\" id=\"month\" name=\"month\" bind:value={selectedYearMonth} on:change={askForData} />\n\n\t{#if debtor !== undefined && debtCollector !== undefined}\n\t<div class=\"debt-summary\">\n\t\t<strong>{debtor}</strong> le debe a <strong>{debtCollector}</strong> la cantidad de <span class=\"money\">{formatMoney(debt, 2, \",\", \".\")}</span>\n\t</div>\n\t{/if}\n\n\t{#if bills.length > 0}\n\t<div class=\"debt-container\">\n\t\t<div class=\"debt-info\">\n\t\t\t{#each bills as { expr0, Paidby, BilledTo }, i}\n\t\t\t\t<div class=\"debt-info-item\">\n\t\t\t\t\t<div class=\"column\">\n\t\t\t\t\t\t<strong>{BilledTo}</strong> le debe a <strong>{Paidby}</strong> la cantidad de \n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"column\">\n\t\t\t\t\t\t<span class=\"money align-right\">{formatMoney(expr0, 2, \",\", \".\")}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/each}\n\t\t</div>\n\t</div>\n\t{/if}\n</main>\n\n<style>\n\tmain {\n\t\ttext-align: center;\n\t\tmargin: 0 auto;\n\t\tpadding: var(--lwc-varSpacingVerticalMedium,1rem) var(--lwc-varSpacingHorizontalMedium,1rem);\n\t\tborder-bottom: var(--lwc-borderWidthThin,1px) solid var(--lwc-pageHeaderColorBorder,rgb(221, 219, 218));\n\t\tborder-radius: var(--lwc-pageHeaderBorderRadius,0.25rem);\n\t\tbackground: var(--lwc-pageHeaderColorBackground,rgb(243, 242, 242));\n\t\tbackground-clip: padding-box;\n\t\tbox-shadow: var(--lwc-pageHeaderShadow,0 2px 2px 0 rgba(0, 0, 0, 0.10));\n\t\tborder: var(--lwc-borderWidthThin,1px) solid var(--lwc-pageHeaderColorBorder,rgb(221, 219, 218));\n\t}\n\n\tmain h1 {\n\t\tfont-size: 2rem;\n\t}\n\n\tmain .debt-container {\n\t\tpadding-top: 30px;\n\t\tdisplay: flex;\n    \tjustify-content: center;\n\t}\n\n\tmain .debt-info {\n\t\tbackground-color: white;\n\t\tborder-radius: 10px;\n\t\tpadding: 10px;\n\t\t\n\t}\n\n\tmain .debt-info .debt-info-item {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-between;\n\t\tpadding: 8px;\n\t}\n\n\tmain .debt-info .debt-info-item .column {\n\t\tmargin-right: 10px;\n\t}\n\n\tmain .debt-summary {\n\t\tpadding-top: 30px;\n\t\tfont-size: large;\n\t}\n\n\tmain span.money {\n\t\tcolor: #ff3e00;\n\t}\n\n\tmain .align-right {\n\t\ttext-align: right;\n\t}\n</style>"
  ],
  "names": [],
  "mappings": "AAwGC,IAAI,8BAAC,CAAC,AACL,UAAU,CAAE,MAAM,CAClB,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,OAAO,CAAE,IAAI,8BAA8B,CAAC,IAAI,CAAC,CAAC,IAAI,gCAAgC,CAAC,IAAI,CAAC,CAC5F,aAAa,CAAE,IAAI,qBAAqB,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,2BAA2B,CAAC,kBAAkB,CAAC,CACvG,aAAa,CAAE,IAAI,4BAA4B,CAAC,OAAO,CAAC,CACxD,UAAU,CAAE,IAAI,+BAA+B,CAAC,kBAAkB,CAAC,CACnE,eAAe,CAAE,WAAW,CAC5B,UAAU,CAAE,IAAI,sBAAsB,CAAC,+BAA+B,CAAC,CACvE,MAAM,CAAE,IAAI,qBAAqB,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,2BAA2B,CAAC,kBAAkB,CAAC,AACjG,CAAC,AAED,mBAAI,CAAC,EAAE,eAAC,CAAC,AACR,SAAS,CAAE,IAAI,AAChB,CAAC,AAED,mBAAI,CAAC,eAAe,eAAC,CAAC,AACrB,WAAW,CAAE,IAAI,CACjB,OAAO,CAAE,IAAI,CACV,eAAe,CAAE,MAAM,AAC3B,CAAC,AAED,mBAAI,CAAC,UAAU,eAAC,CAAC,AAChB,gBAAgB,CAAE,KAAK,CACvB,aAAa,CAAE,IAAI,CACnB,OAAO,CAAE,IAAI,AAEd,CAAC,AAED,mBAAI,CAAC,UAAU,CAAC,eAAe,eAAC,CAAC,AAChC,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,eAAe,CAAE,aAAa,CAC9B,OAAO,CAAE,GAAG,AACb,CAAC,AAED,mBAAI,CAAC,UAAU,CAAC,eAAe,CAAC,OAAO,eAAC,CAAC,AACxC,YAAY,CAAE,IAAI,AACnB,CAAC,AAED,mBAAI,CAAC,aAAa,eAAC,CAAC,AACnB,WAAW,CAAE,IAAI,CACjB,SAAS,CAAE,KAAK,AACjB,CAAC,AAED,mBAAI,CAAC,IAAI,MAAM,eAAC,CAAC,AAChB,KAAK,CAAE,OAAO,AACf,CAAC,AAED,mBAAI,CAAC,YAAY,eAAC,CAAC,AAClB,UAAU,CAAE,KAAK,AAClB,CAAC"
}