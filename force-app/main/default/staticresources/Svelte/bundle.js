var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function d(){return s(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.data!==e&&(t.data=e)}function p(t,e){(null!=e||t.value)&&(t.value=e)}let m;function $(t){m=t}function y(t){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.on_mount.push(t)}const b=[],v=[],x=[],_=[],w=Promise.resolve();let E=!1;function B(t){x.push(t)}let M=!1;const N=new Set;function P(){if(!M){M=!0;do{for(let t=0;t<b.length;t+=1){const e=b[t];$(e),S(e.$$)}for(b.length=0;v.length;)v.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];N.has(e)||(N.add(e),e())}x.length=0}while(b.length);for(;_.length;)_.pop()();E=!1,M=!1,N.clear()}}function S(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const A=new Set;function F(t,e){-1===t.$$.dirty[0]&&(b.push(t),E||(E=!0,w.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function j(l,c,a,u,s,d,f=[-1]){const h=m;$(l);const g=c.props||{},p=l.$$={fragment:null,ctx:null,props:d,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:f};let y=!1;if(p.ctx=a?a(l,g,(t,e,...n)=>{const o=n.length?n[0]:e;return p.ctx&&s(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),y&&F(l,t)),e}):[],p.update(),y=!0,o(p.before_update),p.fragment=!!u&&u(p.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);p.fragment&&p.fragment.l(t),t.forEach(i)}else p.fragment&&p.fragment.c();c.intro&&((b=l.$$.fragment)&&b.i&&(A.delete(b),b.i(v))),function(t,n,l){const{fragment:c,on_mount:a,on_destroy:i,after_update:u}=t.$$;c&&c.m(n,l),B(()=>{const n=a.map(e).filter(r);i?i.push(...n):o(n),t.$$.on_mount=[]}),u.forEach(B)}(l,c.target,c.anchor),P()}var b,v;$(h)}function k(t,e,n){const o=t.slice();return o[10]=e[n].expr0,o[11]=e[n].Paidby,o[12]=e[n].BilledTo,o[14]=n,o}function O(t){let e,n,o,r,l,d,f,p,m,$=t[6](t[4],2,",",".")+"";return{c(){e=u("div"),n=u("strong"),o=s(t[2]),r=s(" le debe a "),l=u("strong"),d=s(t[3]),f=s(" la cantidad de "),p=u("span"),m=s($),h(p,"class","money svelte-1a7rh9l"),h(e,"class","debt-summary svelte-1a7rh9l")},m(t,i){a(t,e,i),c(e,n),c(n,o),c(e,r),c(e,l),c(l,d),c(e,f),c(e,p),c(p,m)},p(t,e){4&e&&g(o,t[2]),8&e&&g(d,t[3]),16&e&&$!==($=t[6](t[4],2,",",".")+"")&&g(m,$)},d(t){t&&i(e)}}}function T(t){let e,n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=C(k(t,o,e));return{c(){e=u("div"),n=u("div");for(let t=0;t<r.length;t+=1)r[t].c();h(n,"class","debt-info svelte-1a7rh9l"),h(e,"class","debt-container svelte-1a7rh9l")},m(t,o){a(t,e,o),c(e,n);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,e){if(65&e){let l;for(o=t[0],l=0;l<o.length;l+=1){const c=k(t,o,l);r[l]?r[l].p(c,e):(r[l]=C(c),r[l].c(),r[l].m(n,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}},d(t){t&&i(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t)}}}function C(t){let e,n,o,r,l,f,p,m,$,y,b,v,x,_=t[12]+"",w=t[11]+"",E=t[6](t[10],2,",",".")+"";return{c(){e=u("div"),n=u("div"),o=u("strong"),r=s(_),l=s(" le debe a "),f=u("strong"),p=s(w),m=s(" la cantidad de"),$=d(),y=u("div"),b=u("span"),v=s(E),x=d(),h(n,"class","column svelte-1a7rh9l"),h(b,"class","money align-right svelte-1a7rh9l"),h(y,"class","column svelte-1a7rh9l"),h(e,"class","debt-info-item svelte-1a7rh9l")},m(t,i){a(t,e,i),c(e,n),c(n,o),c(o,r),c(n,l),c(n,f),c(f,p),c(n,m),c(e,$),c(e,y),c(y,b),c(b,v),c(e,x)},p(t,e){1&e&&_!==(_=t[12]+"")&&g(r,_),1&e&&w!==(w=t[11]+"")&&g(p,w),1&e&&E!==(E=t[6](t[10],2,",",".")+"")&&g(v,E)},d(t){t&&i(e)}}}function D(e){let n,r,l,m,$,y,b,v,x,_=void 0!==e[2]&&void 0!==e[3]&&O(e),w=e[0].length>0&&T(e);return{c(){n=u("main"),r=u("h1"),l=s("Status for month: "),m=s(e[1]),$=d(),y=u("input"),b=d(),_&&_.c(),v=d(),w&&w.c(),h(r,"class","svelte-1a7rh9l"),h(y,"type","month"),h(y,"id","month"),h(y,"name","month"),h(n,"class","svelte-1a7rh9l")},m(t,i,u){a(t,n,i),c(n,r),c(r,l),c(r,m),c(n,$),c(n,y),p(y,e[1]),c(n,b),_&&_.m(n,null),c(n,v),w&&w.m(n,null),u&&o(x),x=[f(y,"input",e[9]),f(y,"change",e[5])]},p(t,[e]){2&e&&g(m,t[1]),2&e&&p(y,t[1]),void 0!==t[2]&&void 0!==t[3]?_?_.p(t,e):(_=O(t),_.c(),_.m(n,v)):_&&(_.d(1),_=null),t[0].length>0?w?w.p(t,e):(w=T(t),w.c(),w.m(n,null)):w&&(w.d(1),w=null)},i:t,o:t,d(t){t&&i(n),_&&_.d(),w&&w.d(),o(x)}}}function L(t,e,n){let o,r,l,{getBills:c}=e,a=[],i=0;y(async()=>{let t,e,r,l=new Date;if(t=""+(l.getMonth()+1),e=""+l.getDate(),r=l.getFullYear(),t.length<2&&(t="0"+t),n(1,o=[r,t].join("-")),"function"==typeof c){const t=await c({yearMonth:o});n(0,a=await t),u()}});let u=()=>{if(a.length>1){let t=a.reduce((t,e)=>t.expr0>e.expr0?t:e),e=a.reduce((t,e)=>t.expr0<e.expr0?t:e);n(2,r=e.Paidby),n(3,l=t.Paidby),n(4,i=t.expr0-e.expr0)}else n(2,r=a[0].BilledTo),n(3,l=a[0].Paidby),n(4,i=a[0].expr0)};return t.$set=t=>{"getBills"in t&&n(7,c=t.getBills)},[a,o,r,l,i,t=>{c({yearMonth:o}).then(t=>{n(0,a=t),console.log(JSON.stringify(a)),u()}).catch(t=>console.error(t))},(t,e=2,n=".",o=",")=>{try{const r="$";e=Math.abs(e),e=isNaN(e)?2:e;const l=t<0?"-":"";let c=parseInt(t=Math.abs(Number(t)||0).toFixed(e)).toString(),a=c.length>3?c.length%3:0;return r+l+(a?c.substr(0,a)+o:"")+c.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+o)+(e?n+Math.abs(t-c).toFixed(e).slice(2):"")}catch(t){console.log(t)}},c,u,function(){o=this.value,n(1,o)}]}class q extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){super(),j(this,t,L,D,l,{getBills:7})}}return window.mount=(t=document.body,e={})=>new q({target:t,props:e}),window.mount()}();
//# sourceMappingURL=bundle.js.map
